(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{8312:function(r,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return n(8206)}])},8206:function(r,t,n){"use strict";n.r(t),n.d(t,{default:function(){return w}});var s=n(5893),e=n(931),i=n(8767),c=n(5121);let a=async(r,t)=>{try{let n=await c.Z.get("".concat("https://mks-frontend-challenge-04811e8151e6.herokuapp.com/api/v1","/products"),{params:{page:r,rows:t,sortBy:"id",orderBy:"DESC"}});return n.data.products}catch(r){throw Error("Erro ao buscar produtos da API")}};var h={src:"/_next/static/media/shopping-bag.b3766f2c.svg",height:16,width:14,blurWidth:0,blurHeight:0},d=n(5675),o=n.n(d),u=n(4810),l=n(8078),x=n(1256);function j(){return(0,s.jsxs)(x.Z,{spacing:1,children:[(0,s.jsx)(l.Z,{variant:"text",sx:{fontSize:"1rem"}}),(0,s.jsx)(l.Z,{variant:"circular",width:40,height:40}),(0,s.jsx)(l.Z,{variant:"rectangular",width:218,height:60}),(0,s.jsx)(l.Z,{variant:"rounded",width:218,height:60})]})}n(7294);var p=n(1875);function f(){return(0,s.jsx)(x.Z,{sx:{width:"100%"},spacing:2,children:(0,s.jsx)(p.Z,{severity:"error",children:"Erro ao buscar produtos!"})})}var g=n(8423),w=()=>{let{addToCartCombined:r,contextState:t,reduxState:n}=(0,g.Z)(),c=t=>{r(t)},{data:d,isLoading:l,isError:x}=(0,i.useQuery)("products",()=>a(1,8));if(l)return(0,s.jsx)(e.nN,{children:(0,s.jsxs)(u.Z,{injectFirst:!0,children:[(0,s.jsx)(j,{}),(0,s.jsx)(j,{}),(0,s.jsx)(j,{}),(0,s.jsx)(j,{}),(0,s.jsx)(j,{}),(0,s.jsx)(j,{}),(0,s.jsx)(j,{}),(0,s.jsx)(j,{})]})});if(x||!d)return(0,s.jsx)(e.nN,{children:(0,s.jsx)(u.Z,{injectFirst:!0,children:(0,s.jsx)(f,{})})});let p=new i.QueryClient;return p.invalidateQueries("products"),(0,s.jsx)(e.qU,{children:Array.isArray(d)&&d.length>0&&d.map(r=>(0,s.jsxs)(e.YL,{children:[(0,s.jsx)(e.fe,{children:(0,s.jsx)(o(),{src:r.photo,alt:r.name,width:111,height:120})}),(0,s.jsxs)(e.W6,{children:[(0,s.jsxs)(e.FK,{children:[(0,s.jsx)(e.ww,{children:r.name}),(0,s.jsxs)(e.jF,{children:["R$","".concat(r.price)]})]}),(0,s.jsx)(e.vI,{children:r.description})]}),(0,s.jsxs)(e.lo,{onClick:()=>c(r),children:[(0,s.jsx)(o(),{src:h,alt:"shoppingbag"}),"COMPRAR"]})]},r.id))})}}},function(r){r.O(0,[38,774,888,179],function(){return r(r.s=8312)}),_N_E=r.O()}]);